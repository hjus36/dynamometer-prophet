# Data Dictionary (Day0)

다이나모미터 상태 모니터링 & 이상 예측(Prophet) 분석을 위해,
CSV 데이터의 컬럼 의미/단위/가정(스케일)을 정리한 데이터 정의서이다.

---

## 1) 데이터 개요
- 데이터 형태: 다중 센서 시계열(CSV)
- 핵심 특징: `Time`이 각 run마다 0부터 반복되는 **상대시간** 구조
- 샘플링(추정): 50 ms 간격(≈ 20 Hz), 1 run = 0~4950 ms (총 100개 샘플)

> 분석에서는 `run_id`로 run을 구분하고, Prophet 입력을 위해 `abs_time`(연속 시간축)을 생성하여 사용한다.

---

## 2) 단위/스케일 가정(분석 목적 기반)
본 프로젝트는 절대 단위의 “정확한 물리량”보다, **시간에 따른 변화 패턴/관계/이상 징후**를 중심으로 분석한다.  
장비 스펙이 확정되지 않은 상태이므로, 아래 단위/스케일은 **가정(Assumption)** 이며 추후 변경될 수 있다.

- `Temp**`, `Press**`, `FB_Torque`는 값 범위상 **×10 스케일(소수점 1자리)** 형태일 가능성이 높다고 가정하여 기본적으로 값 ÷ 10 변환을 적용한다.
- `Vib_*`는 오프셋이 포함된 센서 raw 레벨일 가능성이 높아, 절대 단위 환산은 보류하고 상대 비교 지표로 사용한다.

---

## 3) 컬럼 정의(원본 컬럼)
(※ 상세 표는 `tables/Day0/Day0_data_dictionary.csv` 참고)

| 구분 | 컬럼(그룹) | 신호 설명(추정) | 단위(가정) | 스케일/변환(가정) | 메모 |
|---|---|---|---|---|---|
| 시간 | `Time` | 각 run 내 상대 시간 | ms | 그대로 사용 | run마다 0부터 반복 |
| 토크 | `FB_Torque` | 피드백 토크(부하/제동 방향 가능) | N·m | 값 ÷ 10 | 음수는 “흡수(제동) 토크” 가능성으로 가정 |
| RPM | `FB_Rpm` | 분당 회전수 | rpm | 그대로 사용 | 저속 구간 중심 |
| 온도 | `Temp00~Temp19` | 온도 센서 20채널 | °C | 값 ÷ 10 | 대표값 생성 권장(평균) |
| 압력 | `Press00~Press15` | 압력 센서 16채널 | kPa(추정) | 값 ÷ 10 | 대표값 생성 권장(평균) |
| 진동 | `Vib_X,Y,Z` | 3축 진동(가속도) 출력 | (상대값) | 환산 보류 | RMS로 변화량/크기 지표 사용 |

---

## 4) 분석용 파생변수(대표 센서 정의)
다채널(Temp/Press)과 3축(Vib)을 모델 입력/시각화에 사용하기 위해 대표값을 생성한다.

- `Temp_mean` = mean(Temp00 ~ Temp19)
- `Press_mean` = mean(Press00 ~ Press15)
- `Vib_rms` = sqrt(Vib_X^2 + Vib_Y^2 + Vib_Z^2)

추가로 필요 시:
- `Torque_abs` = abs(FB_Torque)  (부하 크기 관점 분석용)
- `Delta_*` = 현재값 - 이전값 (급변/이상치 탐지용)

---

## 5) 중요한 해석 가정(토크 부호)
- 본 분석에서는 `FB_Torque < 0` 구간을 **다이나모미터가 회전을 억제하는 방향(흡수/제동/부하 토크)** 으로 작용하는 상황으로 가정한다.
- 단, 토크 부호 정의는 장비 설정(센서 방향/좌표계/제어기 정의)에 따라 달라질 수 있다.

---

## 6) 추후 확인 필요(TODO)
- 토크/회전수/온도/압력/진동의 **정확한 단위 및 스케일(×10 여부)** 장비 스펙으로 확인
- `Vib_*`의 오프셋/영점 및 물리 단위(g, m/s^2 등) 환산 가능 여부 확인
- `FB_Torque` 부호가 “구동/흡수” 기준인지 정의 확인
